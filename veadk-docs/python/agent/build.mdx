---
title: "构建方法"
---

您可以通过以下两种方式来构建您的 Agent：

- Python 代码
- 配置文件

## 通过代码

在代码中直接定义智能体是最常见且最灵活的方式。
此方法便于动态调整参数、集成外部模块并进行单元测试。
您可以创建一个最简单的 Agent，无需额外设置。
Agent 缺省属性将来自环境变量或默认值。

如下代码实现了一个最简化的 Agent 定义与运行：

```python agent.py lines icon="python"
import asyncio

from veadk import Agent, Runner

agent = Agent()
runner = Runner(agent=agent)

response = asyncio.run(runner.run(messages="Hi!"))
print(response)
```

## 通过配置文件

在您构建 Agent 过程中，往往需要更加简洁的 Agent 定义方式与配置管理。
为了方便这种场景，VeADK 提供了 YAML 文件定义方式。
该方法以声明式语法描述智能体的全部元信息与行为结构。

下面是一个简单的 `yaml` 文件，用于演示如何定义一个查询天气信息的 AI Agent：

```yaml weather_reporter_agent.yaml lines icon="yaml"
root_agent:
  type: Agent # Agent | SequencialAgent | LoopAgent | ParallelAgent
  name: weather_reporter
  description: An intelligent_assistant which can provider weather information.
  instruction: Help user according to your tools.
  model_name: doubao-1-5-pro-32k-250115
  model_api_key: ... # 您的模型API Key
  tools:
    - name: veadk.tools.demo_tools.get_city_weather # tool 所在的模块及函数名称
```

结构说明：

- `type`: 智能体类别
- `name`: 智能体名称
- `description`: 智能体的总体描述
- `instruction`：智能体的系统提示词（System prompt）
- `model_name`: 模型名称, 如doubao-1-5-pro-32k-250115, deepseek-r1-250528 等
- `tools`: 工具列表与调用规则

您可以通过 Agent Builder 来初始化上述定义的 Agent：

```python agent.py lines icon="python"
import asyncio

from veadk import Runner
from veadk.agent_builder import AgentBuilder

agent_builder = AgentBuilder()

agent = agent_builder.build(path="weather_reporter_agent.yaml")

runner = Runner(agent)
response = asyncio.run(runner.run("今天北京天气如何？"))

print(response)
```

## 对比

我们为您提供了不同定义方式的 Agent 构建方法对比：

| 特性 | 代码方式 | YAML 方式 |
| ---- | ----- | ------- |
| 灵活性 | 高 | 中 |
| 可读性 | 中 | 高 |
| 可维护性 | 中 | 高 |
| 动态生成 | 支持 | 一般 |
| 适用场景 | 开发、生产 | 实验、配置化、生产 |